{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\This User\\\\Documents\\\\reactP\\\\my-store\\\\src\\\\Context\\\\UserContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({\n  currentUser: null,\n  logoutUser: () => {},\n  loginUser: () => {},\n  registerUser: () => {},\n  users: [],\n  products: [],\n  addUser: () => {},\n  getUsers: () => [],\n  updateProduct: () => {},\n  isAdmin: false\n});\nexport const UserProvider = ({\n  children,\n  products,\n  setProducts\n}) => {\n  _s();\n  const [users, setUsers] = useState([{\n    password: '1234',\n    name: 'manager',\n    email: 'manager@gmail.com',\n    isAdmin: true\n  }, {\n    password: '124',\n    name: 'moshe',\n    email: 'm@gmail.com',\n    isAdmin: false\n  }]);\n  const [currentUser, setCurrentUser] = useState(null);\n  //האם מנהל? מאותחל בשקר\n  const [isAdmin, setIsAdmin] = useState(false);\n  const updateProduct = updatedProduct => {\n    setProducts(prevProducts => prevProducts.map(product => product.id === updatedProduct.id ? updatedProduct : product));\n  };\n  const addUser = userData => {\n    setUsers(prevUsers => [...prevUsers, userData]);\n  };\n  const getUsers = () => users;\n  const logoutUser = () => {\n    setCurrentUser(null);\n    setIsAdmin(false);\n  };\n  //פונקצצית כניסה  למערכת\n  const loginUser = (email, password) => {\n    const user = users.find(user => user.email === email && user.password === password);\n    if (user) {\n      setCurrentUser(user);\n      // בדיקה אם המשתמש הוא מנהל\n      setIsAdmin(user.isAdmin);\n    } else {\n      alert('Invalid email or password');\n    }\n  };\n  const registerUser = userData => {\n    const existingUser = users.find(user => user.email === userData.email);\n    if (existingUser) {\n      alert('This email is already registered.');\n      return;\n    }\n    setCurrentUser(userData);\n    addUser(userData);\n\n    //\n    const adminEmail = 'manager@gmail.com';\n    const adminPassword = '1234';\n    if (userData.email === adminEmail && userData.password === adminPassword) {\n      setIsAdmin(true);\n    } else {\n      setIsAdmin(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      currentUser,\n      logoutUser,\n      loginUser,\n      registerUser,\n      users,\n      products,\n      addUser,\n      getUsers,\n      updateProduct,\n      isAdmin\n    },\n    children: [children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"uzvPF3rce3Ec5wKoUGZcr5nK7yM=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["React","createContext","useState","jsxDEV","_jsxDEV","UserContext","currentUser","logoutUser","loginUser","registerUser","users","products","addUser","getUsers","updateProduct","isAdmin","UserProvider","children","setProducts","_s","setUsers","password","name","email","setCurrentUser","setIsAdmin","updatedProduct","prevProducts","map","product","id","userData","prevUsers","user","find","alert","existingUser","adminEmail","adminPassword","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/This User/Documents/reactP/my-store/src/Context/UserContext.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\r\n\r\nexport const UserContext = createContext({\r\n  currentUser: null,\r\n  logoutUser: () => {},\r\n  loginUser: () => {},\r\n  registerUser: () => {},\r\n  users: [],\r\n  products: [],\r\n  addUser: () => {},\r\n  getUsers: () => [],\r\n  updateProduct: () => {}, \r\n  isAdmin: false,\r\n});\r\n\r\nexport const UserProvider = ({ children, products, setProducts }) => {\r\n  const [users, setUsers] = useState([\r\n    { password: '1234', name: 'manager', email: 'manager@gmail.com', isAdmin: true },\r\n    { password: '124', name: 'moshe', email: 'm@gmail.com', isAdmin: false },\r\n\r\n  ]);\r\n\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  //האם מנהל? מאותחל בשקר\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  const updateProduct = (updatedProduct) => {\r\n    setProducts((prevProducts) =>\r\n      prevProducts.map((product) =>\r\n        product.id === updatedProduct.id ? updatedProduct : product\r\n      )\r\n    );\r\n  };\r\n\r\n  const addUser = (userData) => {\r\n    setUsers((prevUsers) => [...prevUsers, userData]);\r\n  };\r\n\r\n  const getUsers = () => users;\r\n\r\n  const logoutUser = () => {\r\n    setCurrentUser(null);\r\n    setIsAdmin(false);\r\n  };\r\n//פונקצצית כניסה  למערכת\r\n  const loginUser = (email, password) => {\r\n    const user = users.find(\r\n      (user) => user.email === email && user.password === password\r\n    );\r\n    if (user) {\r\n      setCurrentUser(user);\r\n      // בדיקה אם המשתמש הוא מנהל\r\n      setIsAdmin(user.isAdmin);\r\n    } else {\r\n      alert('Invalid email or password');\r\n    }\r\n  };\r\n\r\n  const registerUser = (userData) => {\r\n    const existingUser = users.find(user => user.email === userData.email);\r\n  \r\n    if (existingUser) {\r\n      alert('This email is already registered.');\r\n      return;\r\n    }\r\n  \r\n    setCurrentUser(userData);\r\n    addUser(userData);\r\n  \r\n//\r\n    const adminEmail = 'manager@gmail.com';\r\n    const adminPassword = '1234';\r\n    if (userData.email === adminEmail && userData.password === adminPassword) {\r\n      setIsAdmin(true);\r\n    } else {\r\n      setIsAdmin(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        currentUser,\r\n        logoutUser,\r\n        loginUser,\r\n        registerUser,\r\n        users,\r\n        products,\r\n        addUser,\r\n        getUsers,\r\n        updateProduct,\r\n        isAdmin,\r\n      }}\r\n    >\r\n      {children} {/* Correctly render children here */}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,CAAC;EACvCK,WAAW,EAAE,IAAI;EACjBC,UAAU,EAAEA,CAAA,KAAM,CAAC,CAAC;EACpBC,SAAS,EAAEA,CAAA,KAAM,CAAC,CAAC;EACnBC,YAAY,EAAEA,CAAA,KAAM,CAAC,CAAC;EACtBC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAEA,CAAA,KAAM,CAAC,CAAC;EACjBC,QAAQ,EAAEA,CAAA,KAAM,EAAE;EAClBC,aAAa,EAAEA,CAAA,KAAM,CAAC,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC,QAAQ;EAAEN,QAAQ;EAAEO;AAAY,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAM,CAACT,KAAK,EAAEU,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,CACjC;IAAEmB,QAAQ,EAAE,MAAM;IAAEC,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE,mBAAmB;IAAER,OAAO,EAAE;EAAK,CAAC,EAChF;IAAEM,QAAQ,EAAE,KAAK;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE,aAAa;IAAER,OAAO,EAAE;EAAM,CAAC,CAEzE,CAAC;EAEF,MAAM,CAACT,WAAW,EAAEkB,cAAc,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACpD;EACA,MAAM,CAACa,OAAO,EAAEU,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMY,aAAa,GAAIY,cAAc,IAAK;IACxCR,WAAW,CAAES,YAAY,IACvBA,YAAY,CAACC,GAAG,CAAEC,OAAO,IACvBA,OAAO,CAACC,EAAE,KAAKJ,cAAc,CAACI,EAAE,GAAGJ,cAAc,GAAGG,OACtD,CACF,CAAC;EACH,CAAC;EAED,MAAMjB,OAAO,GAAImB,QAAQ,IAAK;IAC5BX,QAAQ,CAAEY,SAAS,IAAK,CAAC,GAAGA,SAAS,EAAED,QAAQ,CAAC,CAAC;EACnD,CAAC;EAED,MAAMlB,QAAQ,GAAGA,CAAA,KAAMH,KAAK;EAE5B,MAAMH,UAAU,GAAGA,CAAA,KAAM;IACvBiB,cAAc,CAAC,IAAI,CAAC;IACpBC,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EACH;EACE,MAAMjB,SAAS,GAAGA,CAACe,KAAK,EAAEF,QAAQ,KAAK;IACrC,MAAMY,IAAI,GAAGvB,KAAK,CAACwB,IAAI,CACpBD,IAAI,IAAKA,IAAI,CAACV,KAAK,KAAKA,KAAK,IAAIU,IAAI,CAACZ,QAAQ,KAAKA,QACtD,CAAC;IACD,IAAIY,IAAI,EAAE;MACRT,cAAc,CAACS,IAAI,CAAC;MACpB;MACAR,UAAU,CAACQ,IAAI,CAAClB,OAAO,CAAC;IAC1B,CAAC,MAAM;MACLoB,KAAK,CAAC,2BAA2B,CAAC;IACpC;EACF,CAAC;EAED,MAAM1B,YAAY,GAAIsB,QAAQ,IAAK;IACjC,MAAMK,YAAY,GAAG1B,KAAK,CAACwB,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACV,KAAK,KAAKQ,QAAQ,CAACR,KAAK,CAAC;IAEtE,IAAIa,YAAY,EAAE;MAChBD,KAAK,CAAC,mCAAmC,CAAC;MAC1C;IACF;IAEAX,cAAc,CAACO,QAAQ,CAAC;IACxBnB,OAAO,CAACmB,QAAQ,CAAC;;IAErB;IACI,MAAMM,UAAU,GAAG,mBAAmB;IACtC,MAAMC,aAAa,GAAG,MAAM;IAC5B,IAAIP,QAAQ,CAACR,KAAK,KAAKc,UAAU,IAAIN,QAAQ,CAACV,QAAQ,KAAKiB,aAAa,EAAE;MACxEb,UAAU,CAAC,IAAI,CAAC;IAClB,CAAC,MAAM;MACLA,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACErB,OAAA,CAACC,WAAW,CAACkC,QAAQ;IACnBC,KAAK,EAAE;MACLlC,WAAW;MACXC,UAAU;MACVC,SAAS;MACTC,YAAY;MACZC,KAAK;MACLC,QAAQ;MACRC,OAAO;MACPC,QAAQ;MACRC,aAAa;MACbC;IACF,CAAE;IAAAE,QAAA,GAEDA,QAAQ,EAAC,GAAC;EAAA;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE3B,CAAC;AAACzB,EAAA,CAlFWH,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}